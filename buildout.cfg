[buildout]
develop = .
parts = 
    packages 
    tweetengine
    remove
    test
unzip = true
versions = versions

[versions]
zc.buildout = 1.4.1

[packagesdir]
lovely.recipe:mkdir
path = ${buildout:directory}/src/packages

[packages]
recipe = lovely.recipe:eggbox
scripts = 
location = ${packagesdir:path}

# define eggs to be included in the appengine application here:
eggs = 
    Tenjin
    lovely.gae
    
[tweetengine]
recipe = lovely.recipe:mkfile
path = ${buildout:bin-directory}/tweetengine
mode = 0755
content =
   #!/bin/sh
   ${buildout:executable} ${gae:bin-directory}/gae --show_mail_body $@ ${buildout:directory}/src
   
[remove]
recipe = plone.recipe.command
update-command = ${:command}
command = 
    rm ${packagesdir:path}/*.pyo.*
    rm ${packagesdir:path}/setuptools.egg
    rm ${packagesdir:path}/easy_install.py.egg
    rm ${packagesdir:path}/site.py.egg
    rm ${packagesdir:path}/pkg_resources.py.egg

[gae]
recipe = rod.recipe.appengine
url = http://googleappengine.googlecode.com/files/google_appengine_1.3.0.zip
eggs = tweetengine
src = src

[test]
recipe = zc.recipe.testrunner
defaults = ['--auto-color']
# for testing we have additional dependencies defined
eggs = tweetengine [test]
# we import the environment in initialization code
initialization = import environment
working-directory = ${buildout:directory}/src
